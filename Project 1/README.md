# Ανάπτυξη λογισμικού για αλγοριθμικά προβλήματα - Εργασία 1

## Οργάνωση αρχείων

Τα αρχεία κώδικα είναι οργανωμένα σε τέσσερεις φακέλους:

- utils/: περιέχει βοηθητικές συναρτήσεις
- LSH/: περιέχει την υλοποίηση του LSH
- Hypercube/: περιέχει την υλοποίηση του Hypercube
- Cluster/: περιέχει την υλοποίηση του Kmeans

Κάθε φάκελος εκτός αυτόν για τα utilities έχει main και Makefile.

Ο εξωτερικός φάκελος περιέχει Makefile το οποίο περιέχει τους εξής κανόνες:

- all: μεταγλωτίζει όλους τους φακέλους καλώντας τα Makefiles τους
- test: Εκτελει τα εκτελέσιμα με αρχείο εισόδου input.dat και αρχείο ερωτήσεων query.dat που βρίσκονται στον εξωτερικό φάκελο.
- clean: Καλεί clean σε όλους τους φακέλους  

## Utilities

### utils

Γενικές συναρτήσεις όπως διάβασμα αρχείου, απόσταση μεταξύ vectors και δημιουργία τυχαίου vector.

### knn

Υλοποίση της βασικής class για την επίλυση KNN και range search.

### h_function

Υλοποιεί τις h συναρτήσεις οι οποίες χρησιμοποιούνται από τα Hypercube και LSH.

Στις συνιστώσες του τυχαίου διανθσματος που χρησιμοποιείτε έχουν επιτραπεί να παίρνουν αρνητικές τιμές καθώς δεν επιρρεάζουν αρνητικά τα αποτελέσματα και μειώνεται η τιμή του W που πρέπει να χρησιμοποιειθεί με αυτόν τον τρόπο.

## Επέκταση κώδικα για χρήση άλλων μετρικών ή άλλων διανυσματικών χόρων

Η υλοποίηση προσφέρει επέκταση για χρήση άλλων μετρικών ή άλλων διανυσματικών χόρων.

Για να γίνει επέκταση θα έπρεπε να υλοποιηθούν οι μετρικές και η αντίστοιχη h function που δουλεύει για την μετρική. Τα δεδομένα αποθηκεύονται ήδη σε double επειδή είναι από τους πιο γενικούς τύπους για αριθμούς. Αν χρειαστεί επέκταση σε κάποιον διανυσματικό χόρο που να μην είναι υποσύνολο των πραγματικών θα πρέπει να αλλάξουν οι τύποι των διανυσμάτων. Στο knn και range search υπάρχει όρισμα για να χρησιμοποιηθεί άλλη μετρική.

## Αποτελέσματα

Τα παρακάτω αποτελέσματα έγιναν με εκτέλεση των προγραμμάτων στα linux της σχολής και χρησιμοποιήθηκαν τα αρχεία input.dat και τα πρώτα 100 vectors του query.dat.

### ANN

Για το ANN εκτυπώνονται τρείς μετρικές για την καλύτερη αποτίμηση των υπερπαραμέτρων:

- Αverage epsilon: το μέσο ποσοστιαίο σφάλμα
- Average time differance: Ο μέσος όρος του λόγου tTrue/tANN
- True NN %: Το ποσοστό που βρήσκει τον πραγματικό κοντινότερο γείτονα

Μεγαλύτερη έμφαση δόθηκε στην αύξηση του λόγου των χρόνων χωρίς να μεγαλώσει υπερβολικά το ε.

#### LSH

Average epsilon: 0.283211
Average time differance: 100.175
True NN %: 0.03

#### Hypercube

Average epsilon: 0.170078
Average time differance: 458.187
True NN %: 0.18

Παρατηρούμε ότι το Hypercube έχει καλύτερα αποτελέσματα. Αυτό μπορεί να ευθίνεται, εκτός από τις λεπτομέριες υλοποίησης, στο γεγονός ότι το hypercube έχει λιγότερες υπερπαραμέτρους (k,probes, W) που επιρεάζουν την απόδοση σε σχέση με το LSH (W, M, tablesize, L, k) και έτσι είναι πιο εύκολο να γίνει tune.

### Clustering

Επειδή οι Silhouettes υπολογίστηκαν κοντά στο 0 ανεξάρτητα των K που δοκιμάστηκαν (5,10,12), επιλέχθηκε K = 10 ως η πιο λογική τιμή επειδή τα data περιέχουν τα ψηφία 0-9 τα οποία είναι 10 κλάσεις.

Παρατειρήθηκε ότι η μέθοδος Lloyd's είναι αρκετά πιο σταθερή τόσο στα αποτελέσματα όσο και στον χρόνο.

Οι άλλες δύο μέθοδοι σε γενικές γραμμές έχουν μικρότερη Silhouette, μπορεί να πάρουν περισσότερο χρόνο από την μέθοδο Lloyd's όμως μπορεί να τελειώσουν και πιο γρήγορα.

#### Lloyd's

clustering_time: 68.461
Silhouette: [0.0510227 0.0343583 0.0373113 0.0437727 0.0352954 0.0419992 0.0461579 0.0368647 0.0314345 0.0398356 0.0398202 ]

clustering_time: 66.27
Silhouette: [0.0510172 0.0343479 0.0373211 0.0437803 0.0352873 0.0420092 0.0461684 0.0368454 0.0314219 0.0398471 0.0398202 ]

#### Αντίστροφη ανάθεση με LSH

clustering_time: 34.339
Silhouette: [0.0222005 0.0169422 0.00716949 0.00921257 0.00258175 0.0136465 0.0193638 0.00344671 0.0191596 0.0143399 0.0126522 ]

clustering_time: 82.065
Silhouette: [0.0116622 0.00351934 0.0021395 0.0360651 0.0095802 0.0086688 0.00100826 0.0140467 0.006957 0.00470625 0.00897343 ]

#### Αντίστροφη ανάθεση με προβολή σε Hypercube

clustering_time: 54.593
Silhouette: [0.010628 -0.0397799 -0.0446119 0.0144593 0.00570003 0.0117698 0.0436134 0.0255731 -0.00758276 0.0188394 0.00248749 ]

clustering_time: 70.866
Silhouette: [0.0152691 -0.0539651 0.0422567 0.056807 0.0162317 -0.00590308 0.037332 -0.0411259 0.0540507 -0.0173691 0.0048807 ]

1115202000232- Μιχαήλ Βιταντζάκης
1115202000151 - Μιχαήλ Χρήστος Ναβάρο Αμαργιανός 
